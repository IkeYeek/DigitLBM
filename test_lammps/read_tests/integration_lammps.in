clear
# -------------------- VARIABLES DEFINITION -----------------------
variable name string dump_integration_lammps

# -------------------- INITIALISATION -----------------------------

units       si
dimension   3
boundary    f	f   f
atom_style  sphere

# -------------------- UNIVERS ------------------------------------
#region          univers block -0.01 0.02 -0.01 0.01 -0.01 0.0005 units box
#create_box      1 univers
region		    mainbox block 0 0.010026607 0 0.0099519084 0 0.00017071021 units box
create_box	    1 mainbox

read_data output_agdd.data add merge

fix		walls all wall/gran/region hooke/history &
		4000.0 NULL 100.0 NULL 0.5 1 region mainbox

#fix		walls all wall/gran/region granular region mainbox

comm_modify vel yes

fix 1 all nve/sphere
fix 2 all gravity 1.0 vector 0 0 -1

# -------------------- ATOMS ------------------------------------

neighbor 0.0001 bin
#neigh_modify	delay 0 every 1 check yes
neigh_modify delay 0 every 1 check yes page 1000000 one 100000


pair_style	hybrid gran/hooke 4000.0 NULL 100.0 NULL 0.5 1
pair_coeff	* * gran/hooke

#pair_style granular
#pair_coeff	* * gran/hooke

#pair_style gran/hooke 200000.0 70000.0 50.0 30.0 0.5 0
#pair_coeff	* * 

# -------------------- RUN --------------------------------------

timestep 0.000001

thermo_style    custom step cpu atoms 
thermo_modify   lost ignore
thermo 500

dump   ovito all custom 500 ${name}.dump id type mass radius element xs ys zs 
#dump    jpg all image 1000 ${name}-*.jpg type diameter zoom 1 axes yes 1 1 &
#    box yes 1 view 90 90 adiam 3e-4

run     10000

print "All done"
